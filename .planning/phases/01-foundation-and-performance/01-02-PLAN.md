---
phase: 01-foundation-and-performance
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/layouts/BaseLayout.astro
  - src/components/Navigation.astro
  - src/components/Footer.astro
  - src/styles/global.css
  - src/pages/index.astro
  - src/assets/images/hero-placeholder.jpg
  - public/favicon.svg
autonomous: true

must_haves:
  truths:
    - "Homepage renders with BaseLayout wrapping all content"
    - "Navigation is touch-friendly on mobile with 44px minimum tap targets"
    - "Page uses system fonts (no web font downloads)"
    - "Hero image renders as responsive picture element with AVIF/WebP formats"
    - "Styles are mobile-first with desktop enhancements via min-width media queries"
    - "Footer displays on every page with contact info and copyright"
  artifacts:
    - path: "src/layouts/BaseLayout.astro"
      provides: "HTML shell with mobile viewport, SEO meta, inline critical CSS, system fonts, deferred global CSS"
      contains: "system-ui"
    - path: "src/components/Navigation.astro"
      provides: "Mobile-first navigation with hamburger menu, touch-friendly tap targets"
      min_lines: 30
    - path: "src/components/Footer.astro"
      provides: "Site footer with contact links and copyright"
      min_lines: 10
    - path: "src/styles/global.css"
      provides: "CSS reset, mobile-first typography, responsive utilities, touch-friendly defaults"
      contains: "min-width"
    - path: "src/pages/index.astro"
      provides: "Homepage with hero image, intro section, CTA"
      contains: "Picture"
  key_links:
    - from: "src/pages/index.astro"
      to: "src/layouts/BaseLayout.astro"
      via: "imports and wraps content in BaseLayout"
      pattern: "import BaseLayout"
    - from: "src/layouts/BaseLayout.astro"
      to: "src/components/Navigation.astro"
      via: "includes Navigation in layout header"
      pattern: "import Navigation"
    - from: "src/layouts/BaseLayout.astro"
      to: "src/components/Footer.astro"
      via: "includes Footer in layout footer"
      pattern: "import Footer"
    - from: "src/layouts/BaseLayout.astro"
      to: "src/styles/global.css"
      via: "imports global stylesheet"
      pattern: "import.*global.css"
    - from: "src/pages/index.astro"
      to: "astro:assets"
      via: "uses Picture component for responsive hero image"
      pattern: "import.*Picture.*astro:assets"
---

<objective>
Build the mobile-first page layout system and homepage with responsive images. This creates the visual foundation that all pages will use — BaseLayout for consistent structure, Navigation for site-wide nav, Footer for contact info, and a homepage that demonstrates the performance patterns (responsive images, mobile-first CSS, system fonts).

Purpose: Deliver a working, visually functional homepage that proves the performance approach works — responsive images via Picture component, mobile-first CSS, zero web fonts, touch-friendly navigation.
Output: A complete homepage at / that renders correctly on mobile and desktop with optimized responsive images.
</objective>

<execution_context>
@/Users/andydev/.claude/get-shit-done/workflows/execute-plan.md
@/Users/andydev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-and-performance/01-RESEARCH.md
@.planning/phases/01-foundation-and-performance/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create BaseLayout with mobile-first foundation and global styles</name>
  <files>src/layouts/BaseLayout.astro, src/styles/global.css, public/favicon.svg</files>
  <action>
    1. Create src/layouts/BaseLayout.astro with:
       - Props interface: { title: string; description: string }
       - DOCTYPE html, lang="en"
       - Meta charset UTF-8
       - Mobile viewport: width=device-width, initial-scale=1.0
       - Title: `{title} | JaJa Tours`
       - Meta description from props
       - Preconnect to https://res.cloudinary.com (future Cloudinary use)
       - Import and include Navigation component in header
       - `<slot />` for page content
       - Import and include Footer component
       - Import global.css (Astro will handle bundling/inlining automatically via build.inlineStylesheets: 'auto')

    2. Create src/styles/global.css with mobile-first approach:
       - CSS reset (minimal): box-sizing border-box on *, margin 0 on body, img max-width 100%
       - System font stack: `system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif`
       - Base font-size: 16px (1rem), line-height: 1.6
       - Color scheme: warm earth tones suitable for adventure tourism (use CSS custom properties):
         --color-primary: #2D5016 (deep forest green)
         --color-primary-light: #4A7C2E
         --color-accent: #D4A843 (warm gold)
         --color-text: #1A1A1A
         --color-text-light: #555555
         --color-bg: #FAFAF7 (warm off-white)
         --color-bg-dark: #2D2D2D
         --color-white: #FFFFFF
       - Touch-friendly defaults: minimum button/link size via padding (ensure 44px minimum tap target)
       - Responsive container: max-width 1200px, margin auto, padding 0 1rem
       - Typography scale (mobile-first):
         h1: 2rem (mobile), h2: 1.5rem, h3: 1.25rem, p: 1rem
       - Desktop enhancement via @media (min-width: 768px): h1 to 2.75rem, h2 to 2rem
       - Smooth scrolling: html { scroll-behavior: smooth }
       - Focus styles for accessibility: outline 2px solid var(--color-primary), outline-offset 2px

    3. Create public/favicon.svg — a simple SVG favicon with the letter "J" in the primary green color. Keep it minimal (under 1KB).

    Do NOT use any web fonts. System fonts only (saves 40KB+).
    Do NOT add any JavaScript. Astro ships zero JS by default — keep it that way.
  </action>
  <verify>
    Run `npm run build`. Verify build succeeds.
    Check that global.css contains 'system-ui' and '--color-primary'.
    Check that BaseLayout.astro contains viewport meta tag and system-ui reference via global.css import.
    Verify no @font-face rules or Google Fonts links exist anywhere.
  </verify>
  <done>
    BaseLayout provides consistent HTML shell for all pages. Global CSS establishes mobile-first typography, color scheme, touch-friendly defaults, and responsive container. No web fonts — system fonts only. Favicon present.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Navigation, Footer, and Homepage with responsive hero image</name>
  <files>src/components/Navigation.astro, src/components/Footer.astro, src/pages/index.astro, src/assets/images/hero-placeholder.jpg</files>
  <action>
    1. Create a placeholder hero image at src/assets/images/hero-placeholder.jpg:
       Use a simple approach — create a small JPEG placeholder using a canvas-based approach or download a small free landscape image. The image just needs to exist for the Picture component to process. A 1200x800 solid gradient or simple image is fine. Alternatively, use ImageMagick if available (`convert -size 1200x800 gradient:'#2D5016'-'#D4A843' src/assets/images/hero-placeholder.jpg`) or create a minimal valid JPEG file. The key requirement is that it's a real image file that Sharp can process.

    2. Create src/components/Navigation.astro:
       - Mobile-first hamburger navigation (CSS-only, no JavaScript needed):
         Use a hidden checkbox + label pattern for the mobile menu toggle (no JS required)
       - Logo/site name "JaJa Tours" as link to /
       - Nav links: Tours (/tours), About (/about), Contact (/contact) — these pages don't exist yet, that's fine
       - Mobile: hamburger icon, slides out nav list vertically
       - Desktop (@media min-width: 768px): horizontal nav bar, hamburger hidden
       - All tap targets minimum 44px height with adequate padding
       - Sticky/fixed header with background color for readability
       - Use CSS custom properties from global.css for colors

    3. Create src/components/Footer.astro:
       - Site name and tagline: "JaJa Tours — South African Adventure Awaits"
       - Quick links: Tours, About, Contact (same as nav)
       - Contact info placeholder: email and WhatsApp number (use placeholder text like "info@jajatours.co.za")
       - Copyright: `© {new Date().getFullYear()} JaJa Tours. All rights reserved.`
       - Mobile: single column, stacked sections
       - Desktop: 3-column grid layout
       - Dark background (var(--color-bg-dark)) with light text

    4. Create src/pages/index.astro (replace the template default):
       - Import BaseLayout, provide title "South African Adventure Tours" and description "Discover South Africa's best overlanding, diving, rafting and camping tours with JaJa Tours. Book your adventure today."
       - Hero section:
         Import hero-placeholder.jpg from @assets/images/
         Use Picture component from 'astro:assets' with formats=['avif', 'webp'], widths=[400, 800, 1200], sizes="100vw", quality=80, loading="eager" (hero is above-the-fold)
         Overlay text: "Discover South Africa's Wild Side" as h1, "Overlanding • Diving • Rafting • Camping" as subtitle
       - Intro section:
         Brief intro text about JaJa Tours (2-3 sentences, placeholder content is fine)
         CTA button: "View Our Tours" linking to /tours
         Style CTA as prominent button using primary color with adequate padding (touch-friendly)
       - Why JaJa section:
         3 feature cards in a responsive grid (1 col mobile, 3 col desktop):
         Card 1: "Expert Guide" — personal, experienced local guide
         Card 2: "Stunning Locations" — handpicked SA destinations
         Card 3: "Small Groups" — intimate, personalized experiences
       - All sections use responsive padding and mobile-first sizing

    Do NOT add any client-side JavaScript. The entire page must be static HTML + CSS.
    Use Astro component scoped styles (<style> in each .astro file) for component-specific styling.
    Use global.css custom properties for colors and shared values.
  </action>
  <verify>
    Run `npm run build`. Verify build succeeds without errors.
    Run `npm run preview` (or check dist/ output) — verify index.html exists in dist/.
    Check dist/ for generated image files in multiple formats (avif, webp) confirming Picture component works.
    Verify Navigation.astro contains a checkbox-based toggle (no <script> tags).
    Verify index.astro imports Picture from 'astro:assets'.
    Grep for any <script> tags — there should be zero JavaScript in the output.
  </verify>
  <done>
    Homepage renders with hero image (responsive AVIF/WebP/JPEG), mobile-first navigation with CSS-only hamburger menu, intro section with CTA, feature cards, and footer. Zero JavaScript shipped. All tap targets are 44px+. Page is fully responsive from 320px mobile to 1200px+ desktop.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. dist/index.html exists and contains proper HTML structure
3. dist/ contains AVIF and WebP variants of the hero image
4. No JavaScript files in dist/ output (zero-JS site)
5. Navigation uses CSS-only toggle (no script tags)
6. All colors reference CSS custom properties
7. System fonts only (no @font-face, no Google Fonts)
8. Responsive breakpoints use min-width (mobile-first)
</verification>

<success_criteria>
- Homepage loads and renders correctly via `npm run preview`
- Hero image served as responsive picture element with AVIF/WebP
- Navigation is touch-friendly with hamburger on mobile, horizontal on desktop
- Zero JavaScript shipped to client
- All text uses system fonts
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-and-performance/01-02-SUMMARY.md`
</output>
